# 1. Bitmap 概念

Bitmap 是一个十分有用的数据结构。所谓的 Bit-map 就是用一个 bit 位来标记某个元素对应的 Value，而 Key 即是该元素。由于采用了 Bit 为单位来存储数据，因此在内存占用方面，可以大大节省。

# 2. 应用

1. 排重实现

  有一个文本文件，有上亿行数据，每行数据是 unsigned int。现在需要将其中可能重复的数只保留一个，同时和另外一个或多个这样的文件进行排重（即和它们做差集）。要求尽可能快的筛选出来。

2. 《编程珠玑》第一章的问题

3. 已知某个文件内包含一些电话号码，每个号码为8位数字，统计不同号码的个数

  8位最多99 999 999，大概需要99m个bit，大概10几m字节的内存即可。 （可以理解为从0-99 999 999的数字，每个数字对应一个Bit位，所以只需要99M个Bit==12.5MBytes，这样，就用了小小的12M左右的内存表示了所有的8位数的 电话）

4. 2.5亿个整数中找出不重复的整数的个数（内存空间不足以容纳这2.5亿个整数）

  将bit-map扩展一下，用2bit表示一个数即可，0表示未出现，1表示出现一次，2表示出现2次及以上，在遍历这些数的时候，如果对应位置的 值是0，则将其置为1；如果是1，将其置为2；如果是2，则保持不变。或者我们不用2bit来进行表示，我们用两个bit-map即可模拟实现这个 2bit-map，都是一样的道理。

# 3. Bitmap 具体实现的关键点

1. 使用 byte 数组保存数据，这样可以极大的节省内存空间；

2. 某个元素（也就是某个位置）要置为0或1，通过对 8 (1byte=8bit) 做除法和取余来实现；

3. 具体的置位或清位，使用位操作实现：没有直接提供操作符的，可以通过多种操作符组合实现；
